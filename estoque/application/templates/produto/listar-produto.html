{% extends 'base.html' %}

{% block title %}
    Controle de Estoque - Lista de Produtos
{% endblock title %}

    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

{% block content %}
    <div class="row background-color">
        <div class="titulo-lista">
            <h2>Lista de Produtos</h2>
        </div>

        <div class="filtro-lista">
            <h4>Encontre o que você procura:</h4>
            <form method="GET">
                {{filter.form}}
                <button type="submit" class="btn btn-success">Buscar</button>
            </form>
        </div>

        <table class="table table-bordered" style="text-align: center;">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Marca</th>
                    <th>Quantidade</th>
                    <th>Preço</th>
                    <th>Quem cadastrou</th>
                    <th>Status</th>
                    <th>Mais Informações</th>
                </tr>
            </thead>

            <tbody>
                {% for produto in filter.qs %}
                    <tr>
                        <td>{{produto.nome}}</td>
                        <td>{{produto.marca}}</td>
                        <td>{{produto.quantidade}}</td>
                        <td>{{produto.preco}}</td>
                        <td>{{produto.usuario}}</td>
                        <td>{{produto.status}}</td>
                        <td><a href="{{produto.get_absolute_url}}">Ver mais</a></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock content %}

{% for produto in object_list %}
            <h1><a href="{{produto.get_absolute_url}}">{{produto.nome}}</a></h1>
            <p>{{produto.descricao}}</p>
            {% endfor %}